(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),r=n(6),o=n.n(r),s=(n(17),n(5)),l=n(3),d=n.n(l),u=n(7),h=n(8),j=n(9),b=n(11),m=n(10),p=n(4),f=n.n(p),v=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={lat:void 0,lon:void 0,temperatureC:void 0,city:void 0,country:void 0,humidity:void 0},e.getPosition=function(e){return new Promise((function(t,n){navigator.geolocation.getCurrentPosition(t,n,e)}))},e.getWeather=function(){var t=Object(u.a)(d.a.mark((function t(n,a){var c,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f.a.base,"weather?lat=").concat(n,"&lon=").concat(a,"&units=metric&APPID=").concat(f.a.key));case 2:return c=t.sent,t.next=5,c.json();case 5:i=t.sent,e.setState({lat:n,lon:a,city:i.name,temperatureC:Math.round(i.main.temp),main:i.weather[0].main,country:i.sys.country,humidity:i.main.humidity});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.dateBuilder=function(e){return e.toString()},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?this.getPosition().then((function(t){e.getWeather(t.coords.latitude,t.coords.longitude)})).catch((function(t){e.getWeather(28.67,77.22),alert("You have disabled location service. Allow 'This App' to access your location. Your current location will be used for calculating Real time weather.")})):alert("GeoLocation is not available")}},{key:"render",value:function(){return this.state.temperatureC?Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"location-box",children:[Object(a.jsxs)("div",{className:"location",children:[this.state.city,", ",this.state.country]}),Object(a.jsx)("div",{className:"date",children:this.dateBuilder(new Date)})]}),Object(a.jsxs)("div",{className:"weather-box",children:[Object(a.jsxs)("div",{className:"temperature",children:[this.state.temperatureC,"\xb0C"]}),Object(a.jsx)("div",{className:"weather",children:this.state.main})]})]})}):Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("div",{className:"location-box",children:Object(a.jsxs)("div",{className:"location",children:[Object(a.jsx)("h3",{style:{color:"white",fontSize:"22px",fontWeight:"600"},children:"Detecting your location"}),Object(a.jsxs)("h3",{style:{color:"white",marginTop:"10px"},children:["Your current location wil be displayed on the App ",Object(a.jsx)("br",{})," & used for calculating Real time weather."]})]})})})}}]),n}(c.Component),x=(n(19),"d9c398bcfd45349083bde3f5f7e17fae"),O="https://api.openweathermap.org/data/2.5/";var g=function(){var e,t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(c.useState)({}),d=Object(s.a)(l,2),u=d[0],h=d[1];return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("div",{className:"undefined"!==typeof u.main&&u.main.temp>16?"app warm":"app",children:Object(a.jsxs)("main",{children:[Object(a.jsx)("div",{className:"search-box",children:Object(a.jsx)("input",{type:"text",value:r,onChange:function(e){return o(e.target.value)},placeholder:"Search...",className:"search-bar",onKeyPress:function(e){"Enter"===e.key&&fetch("".concat(O,"weather?q=").concat(r,"&units=metric&APPID=").concat(x)).then((function(e){return e.json().then((function(e){h(e),o(""),console.log(u)}))}))}})}),Object(a.jsx)(v,{}),"undefined"!=typeof u.main?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"location-box",children:[Object(a.jsxs)("div",{className:"location",children:[u.name,", ",u.sys.country]}),Object(a.jsx)("div",{className:"date",children:(e=new Date,e.toString())})]}),Object(a.jsxs)("div",{className:"weather-box",children:[Object(a.jsxs)("div",{className:"temperature",children:[Math.round(u.main.temp),"\xb0C"]}),Object(a.jsx)("div",{className:"weather",children:u.weather[0].main})]})]}):""]})})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root")),y()},4:function(e,t){e.exports={key:"d9c398bcfd45349083bde3f5f7e17fae",base:"https://api.openweathermap.org/data/2.5/"}}},[[20,1,2]]]);
//# sourceMappingURL=main.46740733.chunk.js.map